# =============================================================================
# MY-IA API - Configuration Environment Variables
# =============================================================================
# Copy this file to .env and update the values for your environment
# IMPORTANT: Change all "change-me-in-production" values before deploying!

# =============================================================================
# APPLICATION
# =============================================================================
APP_NAME=MY-IA API
APP_VERSION=1.0.0
DEBUG=false
LOG_LEVEL=INFO
ENVIRONMENT=development

# =============================================================================
# SERVER
# =============================================================================
HOST=0.0.0.0
PORT=8080

# =============================================================================
# DATABASE (PostgreSQL)
# =============================================================================
# PostgreSQL super-user (for database creation)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=change-me-in-production

# N8N Database
N8N_DB_USER=n8n
N8N_DB_PASSWORD=n8n_password
N8N_DB_NAME=n8n

# Application Database (for FastAPI Users auth)
APP_DB_USER=myia_user
APP_DB_PASSWORD=change-me-in-production
APP_DB_NAME=myia_db

# Database URL for FastAPI app (format: postgresql+asyncpg://user:password@host:port/database)
DATABASE_URL=postgresql+asyncpg://myia_user:change-me-in-production@postgres:5432/myia_db

# =============================================================================
# OLLAMA (LLM)
# =============================================================================
OLLAMA_HOST=http://ollama:11434
MODEL_NAME=llama3.2:1b
EMBED_MODEL=nomic-embed-text

# =============================================================================
# CHROMADB (Vector Database)
# =============================================================================
CHROMA_HOST=http://chroma:8000
CHROMA_PATH=/chroma/chroma
COLLECTION_NAME=knowledge_base

# =============================================================================
# RAG CONFIGURATION
# =============================================================================
TOP_K=4
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
CHUNKING_STRATEGY=semantic

# =============================================================================
# SECURITY
# =============================================================================
API_KEY=change-me-in-production
SECRET_KEY=change-me-in-production

# JWT Configuration
JWT_SECRET_KEY=change-me-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# =============================================================================
# CORS
# =============================================================================
# Comma-separated list of allowed origins (use * for development only!)
CORS_ORIGINS=*

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_CHAT=30/minute
RATE_LIMIT_UPLOAD=10/minute
RATE_LIMIT_STREAM=20/minute

# =============================================================================
# TIMEOUTS
# =============================================================================
OLLAMA_TIMEOUT=600.0
HTTP_TIMEOUT=30.0
HEALTH_CHECK_TIMEOUT=5.0

# =============================================================================
# N8N (Workflow Automation)
# =============================================================================
N8N_PASSWORD=change-me-in-production
N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http
WEBHOOK_URL=http://localhost:5678/
GENERIC_TIMEZONE=Europe/Paris
